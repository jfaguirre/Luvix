<form (submit)="CrearTienda()" [formGroup]="tiendaForm" id="registerForm" class="register-form">


  <div class="form-group">
        <label for="idCategoria" class="form-label">Género</label>
        <select name="idCategoria" formControlName="idCategoria" id="idCategoria" class="form-select" required>
            <option value="">Selecciona la categoría de tu tienda.</option>
            @for (cat of categorias; track cat.id) {
            <option [value]="cat.id">{{ cat.id }} {{ cat.nombre }}</option>
            }
        </select>
        @if(tiendaForm.controls['idCategoria'].touched) {
        <div class="text-danger">
            @if(tiendaForm.controls["idCategoria"].errors?.['required']) {
              <span>Debes seleccionar una categoría.</span>
            }
        </div>
        }
    </div>

  <div class="form-group">
        <label for="nombre" class="form-label">Nombre</label>
        <input name="nombre" formControlName="nombre" type="text" id="nombre" class="form-input" placeholder="Tu nombre" required maxlength="50" minlength="3">
        <div class="text-danger">
            @if(tiendaForm.controls["nombre"].errors?.['required'] && tiendaForm.get('nombre')?.touched) {
              <span>El nombre de usuario es requerido.</span>
            }
            @if(tiendaForm.controls["nombre"].errors?.['maxLengthCustom']) {
              <span>El nombre debe tener un maximo de 50 caracteres.</span>
            }
            @if(tiendaForm.controls["nombre"].errors?.['minLengthCustom']) {
              <span>El nombre debe tener un minimo de 3 caracteres.</span>
            }
            @if(tiendaForm.controls["nombre"].errors?.['nombreInvalido']) {
              <span>El nombre solo acepta letras y espacios validos.</span>
            }
        </div>
    </div>

    <div class="form-group">
        <label for="descripcion" class="form-label">Descripcíon</label>
        <input name="descripcion" formControlName="descripcion" type="text" id="descripcion" class="form-input" placeholder="Tu descripcion" required maxlength="150" minlength="20">
        <div class="text-danger">
            @if(tiendaForm.controls["descripcion"].errors?.['required'] && tiendaForm.get('descripcion')?.touched) {
              <span>El descripcion de la tienda es obligatoria.</span>
            }
            @if(tiendaForm.controls["descripcion"].errors?.['maxLengthCustom']) {
              <span>El descripcion debe tener un maximo de 150 caracteres.</span>
            }
            @if(tiendaForm.controls["descripcion"].errors?.['minLengthCustom']) {
              <span>El descripcion debe tener un minimo de 20 caracteres.</span>
            }
            @if(tiendaForm.controls["descripcion"].errors?.['descripcionInvalido']) {
              <span>El descripcion solo puede contener letras y espacios válidos.</span>
            }
        </div>
    </div>

    <div class="form-group">
      <button type="submit" [disabled]="tiendaForm.invalid" class="register-btn">Crear Cuenta</button>
        <div class="text-danger">
            @if(tiendaForm.invalid) {
              <span style="display: flex; justify-content: center;">Debe llenar todos los campos.</span>
            }
        </div>
    </div>
</form>

